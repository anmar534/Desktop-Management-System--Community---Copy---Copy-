# سجل المكونات – مرحلة التدقيق الأولى

> **تاريخ التحديث:** 9 أكتوبر 2025  
> **المسؤول:** فريق التطبيق الموحد للتصميم

هذا السجل يوثّق الحالة الحالية لأبرز المكونات والصفحات مقابل نظام التصميم الموحد، ويُحدَّث مع تقدم مراحل التنفيذ.

| المكون / الصفحة | النطاق | الحالة الحالية | الانحرافات الرئيسية | الأولوية / الإجراء المقترح |
|------------------|--------|-----------------|---------------------|-----------------------------|
| `PageLayout` | إطار الصفحات | ✅ متوافق | تم تحويل الخلفيات والحدود إلى Tokens (`bg-background`, `bg-card`, `border-border`) مع احترام تفضيل تقليل الحركة عبر `useReducedMotion`. | اعتماد الإصدار الحالي كأساس للصفحات مع مراقبة التحسينات البصرية عند الحاجة. |
| `Header` | رأس التطبيق | ✅ متوافق | يستخدم ThemeProvider بالكامل مع تصميم يعتمد على Tokens الهوية (`bg-card`, `text-foreground`, `bg-gradient from-primary`). | مراقبة أيقونات الثيم والـ gradients لضمان مواءمة الهوية عند التوسعات. |
| `Sidebar` | التنقل الجانبي | ✅ متوافق | يستخدم ألوانًا دلالية وتدرجات مرتبطة بالـ Tokens (`bg-card`, `bg-muted/20`, `text-primary`) مع توحيد البادجات على متغيرات المكتبة واستبدال الطبقات الثابتة. | مراقبة تأثيرات الحالة بعد دمج مكونات التنقل الأخرى وتوسيع القياسات إن لزم. |
| `WidgetContainer` | حاوية الودجات | ✅ متوافق | يستخدم حالات دلالية وTokens. | الحفاظ عليه، اعتماده كمرجع للبطاقات الأخرى. |
| `AdvancedDashboard` | لوحة التحكم | ✅ متوافق | تم توحيد ودجات الرسوم (MiniChart) على لوحة الألوان الدلالية (`chart-*`) مع إزالة الألوان الصريحة وتفعيل الظلال الدلالية. | اعتماد التنفيذ الحالي ومراقبة التوسعات في البطاقات الجديدة. |
| `Projects` | إدارة المشاريع | ✅ متوافق | تم استبدال جميع الألوان اليدوية بـ Tokens دلالية (`text-success`, `bg-warning/10`, `bg-destructive/10`)، توحيد حالات التبويبات والبادجات وأزرار الحوارات على مكونات المكتبة، مع إبراز مؤشرات المالية باستخدام `formatCurrencyValue`. | متابعة مؤشرات الأداء بعد الدمج وتوسيع الاختبارات البصرية عند إضافة حالات جديدة. |
| `Tenders` | إدارة المنافسات | ✅ متوافق | تمت مواءمة `TenderCard` والبطاقات التحليلية على ألوان دلالية (`text-success`, `bg-warning/10`, `bg-destructive/10`) مع توحيد تبويبات الفرز، شارات الحالة، وحوارات التأكيد على مكونات المكتبة. | المراقبة المستمرة عند إضافة حالات جديدة وضبط مؤشرات الأداء تبعًا للبيانات. |
| `NewProjectForm` | نموذج إنشاء/تحديث مشروع | ✅ متوافق | تم تحويل الرسائل التوجيهية، قائمة المراجعة، ولوحات التقديرات المالية إلى Tokens (`bg-info/10`, `text-success`, `border-warning/20`) مع اعتماد متغيرات `Badge` و`AlertDialog` الدلالية للحالات. | اعتماد التنفيذ الجديد كأساس لجميع نماذج المشاريع والتوسع على باقي النماذج في الموجات التالية. |
| `TenderPricingWizard` | معالج التسعير | ❌ غير متوافق | خلفيات وجداول بألوان ثابتة، الرسائل تعتمد لون Tailwind، لا توجد مكونات موحدة للحالات. | معالجة في موجة 2 مع إنشاء مكونات الحالة الموحدة. |
| `TenderPricingProcess` | إدارة التسعير التفصيلية | ❌ غير متوافق | عشرات الاستخدامات لـ `bg-white`, `even:bg-gray-50`, `border-gray-200`, مما يؤثر على السمات. | يحتاج خطة refactor تفصيلية (مرحلة 4 موجة 2). |
| `FinancialReports` | صفحة التقارير | ⚠️ جزئي | بطاقات `bg-white`, حدود ثابتة، ولكن يمكن تكييفها بسهولة. | معالجة في موجة 3 بعد توحيد البطاقات. |
| `ProjectCostView` | واجهة تحليل التكاليف | ❌ غير متوافق | كثافة عالية لألوان Tailwind الافتراضية، Buttons مخصصة كاملة. | يتطلب خطة refactor منفصلة (مرحلة 4 موجة 2-3). |
| `ExpenseManagement` | إدارة المصروفات | ❌ غير متوافق | خلفية الصفحة `bg-gray-50`, بطاقات `bg-white`, جداول بألوان ثابتة. | مغطى في موجة 3. |
| Form Wizards (`NewTenderForm`, `NewInvoice`, إلخ) | نماذج | ⚠️ جزئي | تم ترحيل `NewTenderForm` إلى Tokens الهوية (`bg-warning/10`, `text-success`, `border-muted`) مع إعادة استعمال مكونات `Badge` و`AlertDialog`، بينما بقية النماذج ما تزال تعتمد درجات Tailwind الصريحة. | متابعة ترحيل `NewInvoice` وبقية النماذج في الموجة 2 استنادًا إلى نماذج المشاريع والمنافسات المحدثة. |
| `ThemeProvider` و`AppShell` | البنية | ✅ متوافق | `AppShell` أصبح يستهلك `ThemeProvider` بالكامل مع إزالة الحالة المحلية وتوحيد إدارة السمات والتخزين، وإتاحة تبديل عالي التباين عبر السياق. | الحفاظ على التنفيذ الحالي مع مراقبة الأداء وإضافة اختبارات UI للسمات الثلاث. |
| مكتبة `components/ui` (أزرار، بطاقات) | مكونات أساسية | ✅ متوافق | تعتمد Tokens وتتعامل مع السمات. | الحفاظ والتوسع عند الحاجة. |
| Storybook Stories | التوثيق | ⚠️ جزئي | بعض القصص موجودة ولكن لا تغطي الحالات الفعلية للمكونات الرئيسية، ولا تعرض السمات الثلاث. | تحديث خلال المرحلة 2-3 لتغطية المكونات الحرجة. |

> **التحديث القادم:** بعد كل موجة ترحيل، يتم تحديث حالة المكونات وإضافة صفوف جديدة عند ظهور مكونات إضافية.
