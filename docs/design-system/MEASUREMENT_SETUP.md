# إعداد القياس والمتابعة

> **هدف المستند:** توضيح آلية قياس التقدم وضمان جودة تطبيق نظام التصميم الموحد.

---

## 1. Storybook

- **الأوامر المتاحة:**

  ```bash
  npm run storybook
  npm run storybook:build
  ```

- **إعدادات أساسية:** موجودة في `.storybook/main.ts` مع إضافات `@storybook/addon-a11y`, `@storybook/addon-themes`.
- **المهام المطلوبة:**
  - إضافة قصة (Story) جديدة لكل مكون بعد تحديثه.
  - تفعيل `@storybook/addon-interactions` لاحقًا لاختبارات المستخدم التفاعلية (مستهدف Sprint 3).

## 2. اختبارات الانحدار البصري (Visual Regression)

- **الوضع الحالي:** لا يوجد تكامل مباشر.
- **الخطة:**
  1. تثبيت `@storybook/test-runner` و"Chromatic" أو `loki` في المرحلة الثانية.
  2. إعداد مسار CI لتحديث اللقطات.
  3. توثيق النتائج في Dashboard أسبوعيًا.

## 3. أدوات إمكانية الوصول

- تفعيل `@storybook/addon-a11y` لفحص المكونات.
- استخدام `npm run lint` للتحقق من التوافق.
- إدراج اختبار Playwright مع `--accessibility-snapshot` للصفحات الرئيسية (Sprint المرحلة 4).

## 4. لوحة المتابعة (Metrics Dashboard)

- **مؤشرات أساسية:**
  - نسبة الصفحات المتوافقة.
  - عدد الانحرافات المفتوحة لكل فئة (لون، حوافز، تخطيط).
  - زمن معالجة المهام (Lead Time).
- **تنفيذ مبدئي:** جدول في Notion/Sheets يتم تحديثه يدويًا أسبوعيًا حتى بناء لوحة تلقائية.

## 5. Integrations مع CI/CD

- تحديث مسارات GitHub Actions / Azure Pipelines (عند وجودها) لتشغيل: `npm run lint`, `npm run test`, `npm run storybook:build`.
- إضافة خطوة "Design System Gate" تمنع الدمج عند فشل أحد الشيكات.

---

> **ملاحظة:** ستُحدَّث هذه الوثيقة بعد المرحلة 2 لتشمل أدوات القياس المؤتمتة وتفاصيل تكامل CI الفعلية.
