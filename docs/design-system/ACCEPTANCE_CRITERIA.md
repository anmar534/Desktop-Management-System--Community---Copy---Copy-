# معايير القبول لنظام التصميم الموحد

> **الإصدار:** 1.0.0  
> **تاريخ التحديث:** 9 أكتوبر 2025

يجب أن تلتزم كل مهمة ضمن خطة تطبيق نظام التصميم الموحد بالمعايير التالية قبل اعتبارها مكتملة.

---

## 1. الالتزام البصري (Visual Fidelity)

- استخدام ألوان الهوية من خلال CSS Variables أو الـ Tailwind Tokens المعتمدة فقط.
- توافق العرض مع تصميم Figma/المصدر المعتمد بنسبة ±2px في المسافات، ±1pt في أحجام الخطوط.
- توحيد حالة hover/focus/active بناءً على ما ورد في `DESIGN_SYSTEM.md`.
- الحفاظ على نسبة تباين لا تقل عن 4.5:1 للنصوص الأساسية، و3:1 للعناصر الثانوية.

## 2. دعم السمات (Themes)

- التحقق اليدوي أو عبر Storybook أن المكون/الصفحة تعمل في: Light, Dark, High Contrast.
- التأكد من عدم وجود قيم لونية ثابتة تكسر أي سمة.
- إرفاق لقطات Storybook أو صور مقارنة لكل سمة عند فتح PR.

## 3. إمكانية الوصول (Accessibility)

- دعم التنقل بالكيبورد والتأكد من ظهور `:focus-visible`.
- احترام تفضيل تقليل الحركة (prefers-reduced-motion) عند وجود تح animations.
- حفظ ترتيب القراءة المنطقي في DOM، وضمان وجود تسميات واضحة للعناصر التفاعلية (aria-label/title).
- اجتياز فحص `@storybook/addon-a11y` بدون أخطاء حرجة.

## 4. الأداء والوظائف

- عدم حدوث تراجع في أداء التفاعلات الحرجة (التأكد عبر Vitest/Playwright عند توافرها).
- الحفاظ على سلوك المكونات الحالي، أو توثيق التغيير الوظيفي وسبب قبوله.
- قياس تفاعل رئيسي واحد على الأقل (مثل زمن فتح اللوحة) قبل/بعد عند وجود تغيير كبير في التخطيط.

## 5. التوثيق والتجارب

- تحديث Storybook بحد أدنى Story واحد يشرح المكون بعد التعديل.
- إضافة أو تحديث قسم في `DESIGN_SYSTEM.md` أو `TECHNICAL_DOCUMENTATION.md` عند تقديم نمط جديد.
- تسجيل أي استثناء في `DECISIONS.md` مع مبررات القبول المؤقت.

## 6. الاختبارات

- تشغيل `npm run lint` + `npm run test` محليًا أو في CI والتأكد من نجاحهما.
- توفير اختبار بصري (لقطة مرجعية) عند تعديل مكون له تأثير بصري واضح.
- إنشاء أو تحديث اختبارات وحدات/تكامل تغطي السيناريوهات الرئيسية للمكون.

---

> **ملاحظة:** أي بند لا يمكن تحقيقه بسبب قيد تقني أو زمني يجب أن يوثَّق كاستثناء مع خطة للمعالجة في Sprint لاحقة.
