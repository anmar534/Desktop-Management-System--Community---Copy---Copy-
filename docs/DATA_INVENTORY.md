# ุฌุฑุฏ ููุงุชูุญ ุงูุจูุงูุงุช ูุงูุชุฎุฒูู

> ุชุงุฑูุฎ ุงูุฅูุดุงุก: 3 ุฃูุชูุจุฑ 2025  
> ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ: 6 ุฃูุชูุจุฑ 2025  
> ูุฐุง ุงููุณุชูุฏ ููุญุฏููุซ ุญุงูุฉ ุงููุฑุญูุฉ 0 ูู ุฎุทุฉ ุงูุชุทููุฑ ุงูุดุงููุฉุ ููุนูู ููุตุฏุฑ ูุฑุฌุนู ููุญููุฏ ูููุงุชูุญ ุงูุชุฎุฒูู ุงููุญูู ูุงููุณุชูุฏุนุงุช ุงูุญุงููุฉ.

## ูุธุฑุฉ ุนุงูุฉ

| ุงููุทุงู | ุงูููุชุงุญ (`STORAGE_KEYS`) | ุงูุบุฑุถ | ุงููุณุชููููู ุงูุฑุฆูุณููู | ููุงุญุธุงุช |
| --- | --- | --- | --- | --- |
| ุงูููุงูุตุงุช | `app_tenders_data` | ุชุฎุฒูู ูุงุฆูุฉ ุงูููุงูุตุงุช ูุชูุงุตูููุง | `tenderRepository`, `useTenders`, `FinancialStateProvider` (`useFinancialState().tenders`) | ูุชู ุชุญุฏูุซู ุนุจุฑ ุฃุญุฏุงุซ `TENDERS_UPDATED` |
| ุงููุดุงุฑูุน | `app_projects_data` | ุงููุดุงุฑูุน ููุคุดุฑุงุช ุงูุชูุฏู | `projectRepository`, `useProjects`, `FinancialStateProvider` (`useFinancialState().projects`) | ูุฏุนู ุงูุชุฑุญูู ูู ุงูููุงุชูุญ ุงููุฏููุฉ `construction_app_projects` |
| ุงูุนููุงุก | `app_clients_data` | ุจูุงูุงุช ุงูุนููุงุก ูุงูุนูุงูุงุช | `clientRepository`, `FinancialStateProvider` (`useFinancialState().clients`), `useClients` (ููุงุณุชุฎุฏุงูุงุช ุงููุนุฒููุฉ) | ููุณุชุฎุฏู ูู ููุญุฉ ุงููุดุงุฑูุน ูุฅุฏุงุฑุฉ ุงูุนููุงุก |
| ุงูุญุณุงุจุงุช ุงูุจูููุฉ | `financial_bank_accounts` | ุงูุญุณุงุจุงุช ุงูุจูููุฉ ูุงูุชุฏููุงุช ุงูุดูุฑูุฉ | `bankAccountRepository`, `useBankAccounts`, `BankAccounts.tsx` | **ูุณุชูุฏุน ุฌุฏูุฏ** ุถูู ุงููุฑุญูุฉ 0ุ ุงูุขู ููุญูููู/ููุญูุธ ุนุจุฑ `secureStore` |
| ุงูุจูุงูุงุช ุงููุงููุฉ | `app_financial_data` | ููุฎุตุงุช ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช | `useFinancialData`, ุฎุฏูุงุช ุงูุชุญููู ุงููุงูู | ูุญุชูู ุนูู ุจูุงูุงุช ูุดุชูุฉ ูุนูุฏ `FinancialStateProvider` ุชูููุฏูุง ูู ุงููุดุงุฑูุน ูุงููุตุฑููุงุช ููุนุฑุถ ููุงุฆู ุฌุงูุฒุฉ ูููุงุฌูุฉ (ุงูููุงุชูุฑ ุงููุณุชุญูุฉุ ุงูููุงุฒูุงุช ุงููุชุฌุงูุฒุฉุ ุงูุชูุงุฑูุฑ ุงูุญุฏูุซุฉุ ุงููุดุงุฑูุน ุงูุญุฑุฌุฉุ ุงูููุงูุณุงุช ุงููุฑูุจุฉ) |
| ุงูููุงุชูุฑ | `financial_invoices` | ููุงุชูุฑ ุงูุนููุงุก ูุงูุนูุงุตุฑ | `invoiceRepository`, `useInvoices`, `Invoices.tsx` | **ูุณุชูุฏุน ุฌุฏูุฏ** ุถูู ุงููุฑุญูุฉ 0 |
| ุงูููุงุฒูุงุช | `financial_budgets` | ููุงุฒูุงุช ุงูุฃูุณุงู ูุงููุฆุงุช | `budgetRepository`, `useBudgets`, `Budgets.tsx` | **ูุณุชูุฏุน ุฌุฏูุฏ** ุถูู ุงููุฑุญูุฉ 0 |
| ุงูุชูุงุฑูุฑ ุงููุงููุฉ | `financial_reports` | ุญุงูุฉ ุชูููุฏ ุงูุชูุงุฑูุฑ ูุฅูุดุงุก ุงููููุงุช | `financialReportRepository`, `useFinancialReports`, `FinancialReports.tsx` | **ูุณุชูุฏุน ุฌุฏูุฏ** ุถูู ุงููุฑุญูุฉ 0 |
| ุฃูุงูุฑ ุงูุดุฑุงุก | `app_purchase_orders_data` | ุฃูุงูุฑ ุงูุดุฑุงุก ููุฑููุงุชูุง | `purchaseOrderRepository`, ุฎุฏูุงุช ุงููุดุชุฑูุงุช | ูุฑุชุจุท ุจุฃุญุฏุงุซ `PURCHASE_ORDERS_UPDATED` |
| ุงูุชูุงููู/ุงูู BOQ | `app_boq_data`, `app_pricing_data`, `app_pricing_official`, `app_pricing_draft` | ุจูุงูุงุช ุงูุชุณุนูุฑ ุงูุฑุณููุฉุ ุงููุณูุฏุงุชุ ููุญุฏุงุช ุงูู BOQ | ุฎุฏูุงุช ุงูุชุณุนูุฑ ููุงุฌูุฉ `TenderPricingProcess` | ุชู ุงูุชุฎูุต ูู ููุงุชูุญ snapshots ูุงุณุชุจุฏุงููุง ุจุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูููุญุฏุฉ (`app_tender_backups`) |
| ุงูุนูุงูุงุช | `app_entity_relations` | ุฑุจุท ุงูููุงูุงุช (ูุดุฑูุน โ ุนููู โ ููุงูุณุฉ) | `relationRepository` | ููุญุฏููุซ ุชููุงุฆูุงู ุนูุฏ ุญุฐู ูุดุฑูุน ุฃู ููุงูุตุฉ |
| ุฅุนุฏุงุฏุงุช ุงููุธุงู | `app_settings_data` | ุฅุนุฏุงุฏุงุช ุงููุงุฌูุฉ ูุงููุถุน ุงููููู | `Settings`ุ `useSettings` | ูุฌุฑู ุชูุณูุนู ูุฏุนู ุงูุตูุงุญูุงุช |
| ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ/ุงูุฅุญุตุงุกุงุช | `app_tender_backups`, `app_tender_stats`, `app_project_cost_envelopes`, `app_cost_variance_config`, `app_cost_variance_cache` | ูุณุฎ ูุคุฑุดูุฉุ ุฅุนุฏุงุฏุงุช ุงูุญุฑุงู ุงูุชูุงูููุ ูุงุด ุงูุชุญูููุงุช | ุฎุฏูุงุช ุงูุชุณุนูุฑ ูุงูุชุญููู | ุชุณุชุฎุฏู ูู ุฎุทุท ุงููุฑุญูุฉ ุงูุซุงูุซุฉ ูุงูุฑุงุจุนุฉุ ูุชุณุชููุฏ ุงูุขู ูู ุชุดููุฑ `secureStore` |
| ุณุฌู ุงูุชุฏููู | `app_security_audit_log` | ุชุชุจุน ุนูููุงุช ุงูุชุฎุฒูู ุงูุญุณุงุณุฉ ูุงูุฃุญุฏุงุซ ุงูุฃูููุฉ | `auditLog`, `storage.ts`, ูุฑุงูุจุฉ ุงูุฃูู | ูุญูุธ ุงูุฃุญุฏุงุซ ุจุตูุบุฉ ูุดูููุฑุฉ ูุน ูุงูุฐุฉ ุงุญุชูุงุธ 500 ุฅุฏุฎุงู |

## ุชุตููู ุงูุญุณุงุณูุฉ ูุณูุงุณุฉ ุงูุญูุงูุฉ

> ุชู ุงุนุชูุงุฏ ูุฐุง ุงูุชุตููู ุฎูุงู ุฌูุณุฉ ููุฐุฌุฉ ุงูุชูุฏูุฏ ุจุชุงุฑูุฎ 4 ุฃูุชูุจุฑ 2025.

| ุงูููุชุงุญ | ููุน ุงูุจูุงูุงุช | ูุณุชูู ุงูุณุฑูุฉ | ุงูุชุฃุซูุฑ ุนูุฏ ุงูุชุณุฑูุจ | ุญุงูุฉ ุงูุญูุงูุฉ |
| --- | --- | --- | --- | --- |
| `financial_bank_accounts` | ุฃุฑูุงู ุงูุญุณุงุจุงุชุ ุงูุชุฏููุงุช ุงูููุฏูุฉ | ุนุงูู ุฌุฏูุง | ุฎุณุงุฆุฑ ูุงููุฉ/ูุงููููุฉ | **ูุดูููุฑ ุนุจุฑ SecureStore (ุณุงุฑู ููุฐ 4 ุฃูุชูุจุฑ 2025)** |
| `app_pricing_data`, `app_pricing_official`, `app_pricing_draft` | ุฃุณุนุงุฑ ููุฎุทุทุงุช ุงูุชุณุนูุฑ | ุนุงูู ุฌุฏูุง | ููุฏ ุงูููุฒุฉ ุงูุชูุงูุณูุฉ | **ูุดูููุฑ ุนุจุฑ SecureStore (ุณุงุฑู ููุฐ 4 ุฃูุชูุจุฑ 2025)** |
| `app_tender_backups` | ูุณุฎ ุฃุฑุดูููุฉ ููุชุณุนูุฑ ูุงูู BOQ | ุนุงูู | ูุดู ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุชุงุฑูุฎูุฉ | **ูุดูููุฑ ุนุจุฑ SecureStore (ุณุงุฑู ููุฐ 4 ุฃูุชูุจุฑ 2025)** |
| `financial_invoices`, `financial_budgets`, `financial_reports` | ุฐูู ูุงููุฉุ ููุงุฒูุงุชุ ุชูุงุฑูุฑ | ุนุงูู | ุงููุดุงู ูุงูู ูุชูุงุนุจ ูุญุชูู | **ูุดูููุฑ ุนุจุฑ SecureStore (ุณุงุฑู ููุฐ 4 ุฃูุชูุจุฑ 2025)** |
| `app_project_cost_envelopes`, `app_cost_variance_config`, `app_cost_variance_cache` | ุชุญูููุงุช ุงูุงูุญุฑุงู ูุงูุชูููุฉ | ูุชูุณุท/ุนุงูู | ูุฑุงุฑุงุช ุฎุงุทุฆุฉ ุฃู ููุงูุณุฉ ุบูุฑ ุนุงุฏูุฉ | **ูุดูููุฑ ุนุจุฑ SecureStore (ุณุงุฑู ููุฐ 4 ุฃูุชูุจุฑ 2025)** |
| `app_security_audit_log` | ุฃุญุฏุงุซ ุชุฏููู ุฃูููุฉ (ุฃูุนุงูุ ููุงุชูุญุ ูุชุงุฆุฌ) | ุนุงูู | ููุฏ ุงููุฏุฑุฉ ุนูู ุงูุชุชุจุน ูุงูุงูุชุซุงู | **ูุดูููุฑ ุนุจุฑ SecureStore (ุณุงุฑู ููุฐ 6 ุฃูุชูุจุฑ 2025)** |
| `app_clients_data`, `app_projects_data`, `app_tenders_data` | ุนูุงูุงุช ููุคุดุฑุงุช ุชุดุบูููุฉ | ูุชูุณุท | ุชุณุฑูุจ ุนูุงูุงุช ุงูุนููุงุก | ูุฎุถุน ููุชุดููุฑ ุจุนุฏ ุชูููู ุงููุฑุญูุฉ 2 (ุงุนุชูุงุฏูุง ุนูู ุณุฌู ุงูุชุฏููู) |
| `app_settings_data`, `app_entity_relations` | ุฅุนุฏุงุฏุงุช ุงููุธุงูุ ุฑุจุท ุงูููุงูุงุช | ูุชูุณุท | ุนุจุซ ุจุงูุฅุนุฏุงุฏุงุช ุฃู ุงููุณุงุฑุงุช | ูุญูู ุจุงููุฑุงูุจุฉ ูุณูุชูุงูู ูุน ุณุฌู ุงูุชุฏููู (S1.3) |

### ูุชุทูุจุงุช ุงููุชุงุจุนุฉ

- โ ุชู ููู ุฌููุน ุงูููู ุงูุญุงููุฉ ููููุงุชูุญ ุนุงููุฉ ุงูุณุฑูุฉ ุฅูู `SecureStore` ูุฅุฒุงูุฉ ุงููุณุฎ ุงููุตูุฉ ูู `electron-store` ุนู ุทุฑูู ููุงูุฆ `storage.ts` ุงูุฌุฏูุฏ.
- โ ุฅุถุงูุฉ ุฏุงูุฉ `runStorageMigrations` ูุชุฏููู ุงูููุงุชูุญ ุฏูุนุฉ ูุงุญุฏุฉ ูุชูููุฏ ุชูุฑูุฑ ุญุงูุฉุ ูุน ุชูููุฑ ุฏููู ุชุดุบูู (`docs/STORAGE_MIGRATION_RUNBOOK.md`).
- โ ุชูุนูู ุทุจูุฉ `auditLog` ูุชุณุฌูู ุนูููุงุช ุงูููุงุชูุญ ุงูุญุณุงุณุฉ ูุน ูุงูุฐุฉ ุงุญุชูุงุธ ููุฑุงูุจุฉ ุนุจุฑ `docs/SECURITY_GUIDE.md`.
- ๐ ุชุญุฏูุซ ุงูุงุฎุชุจุงุฑุงุช ุงูุชูุงูููุฉ ูุถูุงู ุญุตูู ุงููุณุชูุฏุนุงุช ุนูู ุจูุงูุงุช ูููููุฉ ุงูุชุดููุฑ ุนุจุฑ ุงูุณูุงู ููุท.
- ๐ ุฅุถุงูุฉ ูุฑุงูุจุฉ ุฃุณุจูุนูุฉ ููุงุฆูุฉ ุงูููุงุชูุญ ุงููุฎุฒูุฉ ูุตููุง ููุชุฃูุฏ ูู ุนุฏู ุธููุฑ ูุฏุฎูุงุช ุบูุฑ ูุดูุฑุฉ ุฌุฏูุฏุฉ (ุฌุฒุก ูู S1.3).

### ููุงุญุธุงุช ุงูุชูููุฐ (6 ุฃูุชูุจุฑ 2025)

- ุชู ุฅุฏุฎุงู ุทุจูุฉ `storageSchema` ูุถูุงู ุชูุญูุฏ ุงูุฃุธุฑู (`schemaVersion`) ูุชุตุญูุญ ุงูุจูุงูุงุช ุนูุฏ ุงููุฑุงุกุฉ.
- ุฌููุน ูุฏุงุกุงุช `safeLocalStorage` ู`asyncStorage` ุชุณุชุฎุฏู ุงูุขู `secureStore` ููููุงุชูุญ ุงูุญุณุงุณุฉ ูุชูุญุฏููุซ ุงููุณุฎ ุงููุชูุงุฏูุฉ ุชููุงุฆููุง.
- ุชู ุชูุซูู ุงูุงุฎุชุจุงุฑุงุช ุงูุฌุฏูุฏุฉ ูู `tests/utils/storageSchema.test.ts` ู`tests/utils/storageMigration.test.ts` ููุชุญูู ูู ุงูุชุทุจูุน ูุงูุชุฑุญูู ุงูุฌูุงุนู.
- ุชู ุชุญุฏูุซ `StorageManager` ูุฅุฒุงูุฉ ููุงุชูุญ snapshots ุงููุฏููุฉ ุชููุงุฆููุง ูุฅุตุฏุงุฑ ุฅุดุนุงุฑุงุช ุชุฏููู ุจุดุฃู ุนูููุงุช ุงูุชูุธูู.

## ููุงุชูุญ ูุฏููุฉ ุฃู ููุฏ ุงูุฅุฒุงูุฉ

| ุงูููุชุงุญ | ุงูุญุงูุฉ | ุงูุฅุฌุฑุงุก |
| --- | --- | --- |
| `construction_app_projects`, `construction_app_clients`, `construction_app_tenders` | ูุฏููุฉ | ูุฌุฑู ุชูุธูููุง ูู `useProjects` ู `useTenders` ุฃุซูุงุก ุงูุชููุฆุฉ |
| `projects`, `tenders`, `clients` | ูุฏููุฉ | ูุชู ุญุฐููุง ุจุนุฏ ุงูุชุฑุญูู ุงูุชููุงุฆู ุฃุซูุงุก ุงูุชุดุบูู ุงูุฃูู |
| `app_tenders`, `app_projects`, `app_clients` (ุจุฏูู ุงููุงุญูุฉ `_data`) | ูุฏููุฉ ุฌุฏูุง | ูุฎููุฉ ุจูุงุณุทุฉ `installLegacyStorageGuard` |
| `app_pricing_snapshots` | ูุญุฐูู (19 ุฃูุชูุจุฑ 2025) | ููุฒุงู ุชููุงุฆููุง ุนุจุฑ `StorageManager` ุฃุซูุงุก ุงูุชููุฆุฉ |

## ุฎุทูุงุช ุงููุฑุญูุฉ 0 ุงูููุฌูุฒุฉ

- โ ุชูุซูู ููุงุชูุญ ุงูุชุฎุฒูู ุงูุญุงููุฉ ููุณุชูููููุง.
- โ ุฅุถุงูุฉ ููุชุงุญ ููุญููุฏ ููุญุณุงุจุงุช ุงูุจูููุฉ ูุงุณุชุจุฏุงู ุงูุงุนุชูุงุฏ ุงููุจุงุดุฑ ุจุฏุงูุฉ `useBankAccounts`.
- โ ุฅูุดุงุก ูุณุชูุฏุน `LocalBankAccountRepository` ูุฑุจุทู ุจุณุฌู ุงููุณุชูุฏุนุงุช ูุงูุฃุญุฏุงุซ ุงูููุญุฏุฉ.

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

- โ ุชูุญูุฏ ูุณุชูุฏุนุงุช ุงูููุงุชูุฑ (`InvoiceRepository`) ูุงูููุงุฒูุงุช (`BudgetRepository`) ูุงูุชูุงุฑูุฑ ุงููุงููุฉ (`FinancialReportRepository`).
- ุชูุณูุน ุฌุฑุฏ ุงูุจูุงูุงุช ููุดูู ุงูููู ุงููุดุชูุฉ (KPIsุ ุชุญูููุงุช ุงูุชุณุนูุฑ) ูุชูููุช ุชุญุฏูุซูุง.
- ุฅุฏุฎุงู ุงุฎุชุจุงุฑ ุชููุงุฆู ููุชุฃูุฏ ูู ุชูุงูุฑ ุฌููุน ุงูููุงุชูุญ ุงููุทููุจุฉ ูุจู ุชุดุบูู ุงูุชุทุจูู.
