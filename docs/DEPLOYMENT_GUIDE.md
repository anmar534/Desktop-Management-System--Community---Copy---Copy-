# ๐ ุฏููู ุงููุดุฑ ูุงูุฅุตุฏุงุฑ - ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงููุงุช

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุฅุตุฏุงุฑ ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุงูุชุทุจูู ุนูู GitHub ูุน ุงูุชุญุฏูุซุงุช ุงูุชููุงุฆูุฉ.

## ๐ฆ ูุชุทูุจุงุช ุงููุดุฑ

### 1. ุฃุฏูุงุช ูุทููุจุฉ

- Node.js 18+
- npm 9+
- Git
- GitHub Account with repository access

### 2. ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ

ูู ุจุฅุนุฏุงุฏ GitHub Secrets ุงูุชุงููุฉ:

```yaml
GITHUB_TOKEN: # ูููุดุฃ ุชููุงุฆูุงู ุจูุงุณุทุฉ GitHub Actions
WINDOWS_PUBLISHER_NAME: # ุงุณู ุงููุงุดุฑ (ุงุฎุชูุงุฑู ููุชูููุน)
WINDOWS_CERT_PATH: # ูุณุงุฑ ุดูุงุฏุฉ ุงูุชูููุน (ุงุฎุชูุงุฑู)
WINDOWS_CERT_PASSWORD: # ูููุฉ ูุฑูุฑ ุงูุดูุงุฏุฉ (ุงุฎุชูุงุฑู)
GITHUB_ERROR_REPORT_TOKEN: # ููุณูุงุญ ุจุฅุฑุณุงู ุชูุงุฑูุฑ ุงูุฃุฎุทุงุก
```

#### ููููุฉ ุฅุนุฏุงุฏ GitHub Secrets:

```
Repository > Settings > Secrets and variables > Actions > New repository secret
```

### 3. ุฅุนุฏุงุฏ GitHub Personal Access Token

ูุฅุฑุณุงู ุชูุงุฑูุฑ ุงูุฃุฎุทุงุก ุชููุงุฆูุงู:

1. ุงูุชูู ุฅูู: https://github.com/settings/tokens
2. ุงููุฑ "Generate new token (classic)"
3. ุงุฎุชุฑ Scopes:
   - `repo` (full control)
   - `write:packages`
4. ุงูุณุฎ ุงูุชููู ูุฃุถูู ูู Secret: `GITHUB_ERROR_REPORT_TOKEN`

## ๐ ุนูููุฉ ุงูุฅุตุฏุงุฑ

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ุฑูู ุงูุฅุตุฏุงุฑ

ูู `package.json`:

```json
{
  "version": "1.0.1" // ุฒุฏ ุงูุฑูู ุญุณุจ Semantic Versioning
}
```

### Semantic Versioning

```
MAJOR.MINOR.PATCH

MAJOR: ุชุบููุฑุงุช ูุจูุฑุฉ ุบูุฑ ูุชูุงููุฉ ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ
MINOR: ููุฒุงุช ุฌุฏูุฏุฉ ูุชูุงููุฉ ูุน ุงูุณุงุจู
PATCH: ุฅุตูุงุญุงุช ุฃุฎุทุงุก
```

ุฃูุซูุฉ:

- `1.0.0` โ `1.0.1` ุฅุตูุงุญ bug
- `1.0.1` โ `1.1.0` ููุฒุฉ ุฌุฏูุฏุฉ
- `1.1.0` โ `2.0.0` ุชุบููุฑ ุฌุฐุฑู

### ุงูุฎุทูุฉ 2: ุชุญุฏูุซ CHANGELOG.md

ุฃุถู ูุณู ููุฅุตุฏุงุฑ ุงูุฌุฏูุฏ:

```markdown
## [1.0.1] - 2025-10-29

### Added

- ูุธุงู ุชุณุฌูู ุงูุฃุฎุทุงุก ุงูุชููุงุฆู
- ุฅุฑุณุงู ุชูุงุฑูุฑ ุงูุฃุฎุทุงุก ูู GitHub

### Fixed

- ุฅุตูุงุญ ูุดููุฉ ูู ุญูุธ ุงูุจูุงูุงุช
- ุชุญุณูู ุงูุฃุฏุงุก

### Changed

- ุชุญุฏูุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### Security

- ุชุญุณููุงุช ุฃูููุฉ ูู ุชุฎุฒูู ุงูุจูุงูุงุช
```

### ุงูุฎุทูุฉ 3: Commit ุงูุชุบููุฑุงุช

```bash
git add package.json CHANGELOG.md
git commit -m "chore: bump version to 1.0.1"
git push origin main
```

### ุงูุฎุทูุฉ 4: ุฅูุดุงุก Tag

```bash
# ุฅูุดุงุก tag
git tag -a v1.0.1 -m "Release version 1.0.1"

# ุฏูุน ุงูู tag ุฅูู GitHub
git push origin v1.0.1
```

### ุงูุฎุทูุฉ 5: ุงูุจูุงุก ุงูุชููุงุฆู

ุจูุฌุฑุฏ ุฏูุน ุงูู tagุ ุณูุจุฏุฃ GitHub Actions workflow ุชููุงุฆูุงู:

1. โ ุชุญููู ุงูููุฏ
2. โ ุชุซุจูุช ุงูููุชุจุงุช
3. โ ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
4. โ ุจูุงุก ุงูุชุทุจูู
5. โ ุจูุงุก ููู ุงูุชูุตูุจ
6. โ ุฅูุดุงุก Release ุนูู GitHub
7. โ ุฑูุน ุงููููุงุช
8. โ ุฅูุดุงุก ููู ุงูุชุญุฏูุซุงุช (latest.yml)

ุชุงุจุน ุงูุชูุฏู ุนูู:

```
Repository > Actions > Build and Release Desktop App
```

### ุงูุฎุทูุฉ 6: ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ

1. ุงูุชูู ุฅูู: `Releases` ูู Repository
2. ุชุญูู ูู ูุฌูุฏ:
   - โ ููู ุงูุชูุตูุจ (.exe)
   - โ ููู ุงูุชุญุฏูุซุงุช (latest.yml)
   - โ ููู ุงูู checksums
   - โ ููุงุญุธุงุช ุงูุฅุตุฏุงุฑ

## ๐ ุงูุชุญุฏูุซ ุงูุชููุงุฆู - ููู ูุนูู

### ูู ุฌุงูุจ ุงูุชุทุจูู

```javascript
// ูู main.cjs - ูุชุญูู ูู 6 ุณุงุนุงุช
autoUpdater.setFeedURL({
  provider: 'github',
  owner: 'anmar534',
  repo: 'Desktop-Management-System--Community---Copy---Copy-',
})

// ุนูุฏ ุชููุฑ ุชุญุฏูุซ
autoUpdater.on('update-available', (info) => {
  // ุฅุดุนุงุฑ ุงููุณุชุฎุฏู
  dialog.showMessageBox({
    title: 'ุชุญุฏูุซ ูุชุงุญ',
    message: `ุฅุตุฏุงุฑ ${info.version} ูุชุงุญ ุงูุขู`,
  })
})

// ุชุญููู ุชููุงุฆู ูู ุงูุฎูููุฉ
autoUpdater.autoDownload = true

// ุจุนุฏ ุงูุชุญููู
autoUpdater.on('update-downloaded', () => {
  // ุงูุณุคุงู ุนู ุฅุนุงุฏุฉ ุงูุชุดุบูู
  dialog.showMessageBox({
    title: 'ุฌุงูุฒ ููุชุซุจูุช',
    message: 'ูู ุชุฑูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุขูุ',
  })
})
```

### ูู ุฌุงูุจ GitHub

1. ุนูุฏ ุฅูุดุงุก Release ุฌุฏูุฏ
2. ูุชู ุฑูุน `latest.yml` ุงูุฐู ูุญุชูู ุนูู:
   ```yaml
   version: 1.0.1
   files:
     - url: DesktopManagementSystem-1.0.1-win-x64.exe
       sha512: ...
       size: 123456789
   path: DesktopManagementSystem-1.0.1-win-x64.exe
   sha512: ...
   releaseDate: '2025-10-29T...'
   ```
3. ุงูุชุทุจูู ููุฑุฃ ูุฐุง ุงูููู ูููุงุฑู ุงูุฅุตุฏุงุฑ
4. ุฅุฐุง ูุงู ุฃุญุฏุซุ ูุจุฏุฃ ุงูุชุญููู

## ๐งช ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซุงุช

### ูุญููุงู

1. ุซุจูุช ุฅุตุฏุงุฑ ูุฏูู (ูุซูุงู 1.0.0)
2. ุฃุตุฏุฑ ูุณุฎุฉ ุฌุฏูุฏุฉ (1.0.1) ุนูู GitHub
3. ุดุบูู ุงูุชุทุจูู ุงููุฏูู
4. ุงูุชุธุฑ ุฃู ุฃุฌุจุฑ ุงููุญุต ูู ุงููุงุฆูุฉ
5. ุชุฃูุฏ ูู ุธููุฑ ุงูุฅุดุนุงุฑ
6. ุงุฎุชุจุฑ ุนูููุฉ ุงูุชุญุฏูุซ

### ูุฏููุงู (ููุชุทููุฑ)

```javascript
// ูู Developer Console
await require('electron').remote.autoUpdater.checkForUpdates()
```

## ๐ ูุฑุงูุจุฉ ุงูุฅุตุฏุงุฑุงุช

### GitHub Insights

ุฑุงูุจ:

- ุนุฏุฏ ุงูุชุญูููุงุช ููู ุฅุตุฏุงุฑ
- ูุนุฏู ุงูุชุญุฏูุซุงุช
- ุงูุฃุฎุทุงุก ุงูููุจูุบ ุนููุง

### ุชูุงุฑูุฑ ุงูุฃุฎุทุงุก

ูู ุชุทุจูู ูุซุจูุช ูุฑุณู ุงูุฃุฎุทุงุก ุชููุงุฆูุงู:

```
Repository > Issues > Label: auto-report
```

ููููู:

- ุฑุคูุฉ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ
- ุชุญุฏูุฏ ุฃููููุงุช ุงูุฅุตูุงุญุงุช
- ุฅุตุฏุงุฑ hotfix ุฅุฐุง ูุฒู

## ๐ง ุฅุตุฏุงุฑ Hotfix ุนุงุฌู

ุฅุฐุง ุงูุชุดูุช bug ุฎุทูุฑ:

```bash
# 1. ุฃุตูุญ ุงููุดููุฉ
git add .
git commit -m "fix: critical bug in data saving"

# 2. ุฒุฏ PATCH version
# package.json: 1.0.1 โ 1.0.2

# 3. ุฃูุดุฆ tag
git tag -a v1.0.2 -m "Hotfix: data saving bug"
git push origin v1.0.2

# 4. ุณูุชู ุงูุจูุงุก ูุงููุดุฑ ุชููุงุฆูุงู
# 5. ุงููุณุชุฎุฏููู ุณูุญุตููู ุนูู ุงูุชุญุฏูุซ ุฎูุงู 6 ุณุงุนุงุช
```

## ๐ ุฅููุงู ุฃู ุณุญุจ ุฅุตุฏุงุฑ

ุฅุฐุง ูุงู ููุงู ูุดููุฉ ุฎุทูุฑุฉ:

### 1. ุญุฐู ุงูู Release

```
Repository > Releases > [Version] > Delete release
```

### 2. ุญุฐู ุงูู Tag

```bash
# ูุญููุงู
git tag -d v1.0.1

# ุนูู GitHub
git push origin :refs/tags/v1.0.1
```

### 3. ุฅุตุฏุงุฑ ูุณุฎุฉ ุฌุฏูุฏุฉ ููุฑุงู

## ๐ Checklist ูุจู ุงูุฅุตุฏุงุฑ

- [ ] ุชุญุฏูุซ ุฑูู ุงูุฅุตุฏุงุฑ ูู `package.json`
- [ ] ุชุญุฏูุซ `CHANGELOG.md`
- [ ] ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช: `npm test`
- [ ] ุจูุงุก ูุญูู ูุงุฌุญ: `npm run build:electron`
- [ ] Commit ุฌููุน ุงูุชุบููุฑุงุช
- [ ] ุฅูุดุงุก Tag ุจุงูุตูุบุฉ ุงูุตุญูุญุฉ: `vX.Y.Z`
- [ ] ุฏูุน Tag ุฅูู GitHub
- [ ] ูุชุงุจุนุฉ GitHub Actions
- [ ] ุงูุชุญูู ูู Release ุนูู GitHub
- [ ] ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซ ุงูุชููุงุฆู
- [ ] ุฅุดุนุงุฑ ุงููุณุชุฎุฏููู (ุฅุฐุง ูุงู ุชุญุฏูุซ ููู)

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

### ุชุฎุตูุต Workflow

ูู `.github/workflows/release.yml`:

```yaml
# ุชุบููุฑ ุงูู trigger
on:
  push:
    tags:
      - 'v*.*.*' # ููุฅุตุฏุงุฑุงุช ุงูุนุงุฏูุฉ
      - 'v*.*.*-beta.*' # ูุฅุตุฏุงุฑุงุช Beta
```

### Pre-release (Beta)

```bash
# ุฅุตุฏุงุฑ Beta
git tag -a v1.1.0-beta.1 -m "Beta release"
git push origin v1.1.0-beta.1
```

ุซู ูู Workflowุ ุนุฏูู:

```yaml
prerelease: ${{ contains(github.ref, 'beta') }}
```

## ๐ ุงูุฃูุงู

### ุชูููุน ุงููููุงุช (Code Signing)

ููุฅูุชุงุฌ:

1. ุงุญุตู ุนูู Code Signing Certificate ูู ุฌูุฉ ููุซููุฉ
2. ุฃุถู ุฅูู Secrets:
   ```
   WINDOWS_CERT_PATH
   WINDOWS_CERT_PASSWORD
   ```
3. ุณูุชู ุงูุชูููุน ุชููุงุฆูุงู

ููุงุฆุฏ:

- โ ูุง ุชุธูุฑ ุชุญุฐูุฑุงุช Windows Defender
- โ ุซูุฉ ุฃูุจุฑ ูู ุงููุณุชุฎุฏููู
- โ SmartScreen ูุง ูุญุฌุจ ุงูุชุทุจูู

## ๐ ุญู ุงููุดุงูู

### Workflow ููุดู

1. ุชุญูู ูู Logs ูู Actions
2. ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:
   - ููุต Dependencies
   - ูุดุงูู ุงูู Build
   - ุฃุฐููุงุช GitHub Token

### ุงูุชุญุฏูุซ ูุง ูุนูู

1. ุชุญูู ูู `latest.yml` ูู Release
2. ุชุญูู ูู URL ูู electron-builder.yml
3. ุชุญูู ูู ุฃุฐููุงุช Repository (public/private)

### ููู ุงูุชูุตูุจ ูุจูุฑ

- ุงุณุชุฎุฏู `asar: true` (ูููุนูู ุจุงููุนู)
- ุงุณุชุจุนุฏ ูููุงุช ุบูุฑ ุถุฑูุฑูุฉ ูู `files:`

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- [electron-builder Docs](https://www.electron.build/)
- [electron-updater Guide](https://www.electron.build/auto-update)
- [GitHub Actions Docs](https://docs.github.com/en/actions)
- [Semantic Versioning](https://semver.org/)

---

**ุชู ุฅุนุฏุงุฏ ุงููุธุงู ุจุงููุงูู ูุฌุงูุฒ ูููุดุฑ! ๐**

ููุจุฏุกุ ููุท:

```bash
git tag -a v1.0.0 -m "First release"
git push origin v1.0.0
```
